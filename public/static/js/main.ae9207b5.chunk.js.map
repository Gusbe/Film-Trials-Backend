{"version":3,"sources":["lib/auth-service.js","providers/AuthProvider.js","components/PrivateRoute.js","components/AnonRoute.js","components/Logo.js","components/Navbar.js","components/Footer.js","pages/Signup.js","pages/Login.js","lib/locationService.js","pages/AddLocation.js","pages/UpdateLocation.js","pages/ViewLocation.js","components/OneResult.js","components/ResultList.js","pages/Search.js","pages/SearchMap.js","pages/NotFound.js","App.js","index.js"],"names":["authService","AuthService","Object","classCallCheck","this","auth","axios","create","baseURL","process","withCredentials","user","username","password","post","then","_ref","data","_ref2","response","get","AuthContext","React","createContext","Provider","Consumer","withAuth","Comp","_Component","WithAuth","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this","react_default","a","createElement","authStore","assign","isLogged","logout","login","signup","props","Component","AuthProvider","state","status","setUser","_this2","setState","logoutUser","catch","error","console","log","loginUser","body","signupUser","_this3","me","_this$state","children","component","rest","objectWithoutProperties","Route","render","Redirect","to","pathname","from","location","Logo","className","src","alt","_this$props","components_Logo","onClick","Link","Navbar","handleFormSubmit","event","preventDefault","handleChange","_event$target","target","name","defineProperty","removePlaceholder","e","placeholder","addPlaceholderUsername","addPlaceholderPassword","onSubmit","type","onFocus","onBlur","onChange","id","notFilledFields","_this$state2","locationService","LocationService","_ref3","delete","_ref4","file","_ref5","searchParams","lon","lat","dist","_ref6","AddLocation","call","changeView","viewport","locateUser","navigator","geolocation","getCurrentPosition","position","currentPosition","latitude","coords","longitude","newViewport","zoom","bearing","pitch","width","height","handleClick","ev","savePosition","lngLat","fileOnchange","files","uploadData","FormData","append","imageUpload","scenePictureUrl","locationObject","title","placeName","coordinates","add","history","push","_id","controlButton","disable","esm","mapboxApiAccessToken","mapStyle","onViewportChange","offsetLeft","offsetTop","style","disabled","update","showUploadPicture","uploadPicture","ownerState","match","params","view","author","owner","ViewLocation","showDelete","deleteLink","deleteElement","redirectSearch","info","Fragment","fill","plot","actors","director","year","awards","website","href","rel","poster","OneResult","showMarker","changeDetailMarker","unshowMarker","distance","concat","Math","trunc","toFixed","onMouseOver","onMouseOut","backgroundImage","ResultList","resultList","results","map","result","components_OneResult","Search","launchSearch","latSearch","lonSearch","d","z","search","window","scrollTo","pos","detailPosition","lastSearch","Date","now","Location","length","components_ResultList","SearchMap","closeLocation","stopPropagation","selectedLocation","goToViewLocation","addEventListener","NotFound","require","config","App","AuthProvider_AuthProvider","components_Navbar","Switch","path","exact","components_AnonRoute","Signup","Login","components_PrivateRoute","UpdateLocation","Footer","ReactDOM","BrowserRouter","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ae9207b5.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_BACKEND_URL,\n      withCredentials: true // only beacause we want to share cookies with the backend server otherwise set it to false\n    })\n  }\n\n  signup(user) {\n    const { username, password } = user;\n    return this.auth.post('/auth/signup', {username, password})\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth.post('/auth/login', {username, password})\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {})\n      .then(response => response.data)\n  }\n\n  me(user) {\n    return this.auth.get('/auth/me')\n    .then(response => response.data)\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n","import React, { Component } from 'react'\nimport authService from '../lib/auth-service';\n\nexport const AuthContext = React.createContext(\n  // authStore // default value\n);\n\nconst { Provider, Consumer }  = AuthContext;\n\nexport const withAuth = (Comp) => {\n  return class WithAuth extends Component {\n    render() {\n      return (\n        <Consumer>\n          {(authStore) => {\n            return <Comp \n              isLogged={authStore.isLogged}\n              user={authStore.user}\n              logout={authStore.logout}\n              login={authStore.login}\n              signup={authStore.signup}\n              {...this.props} />\n          }}\n        </Consumer>\n      )\n    }    \n  }\n}\n\nexport default class AuthProvider extends Component {\n  state = {\n    isLogged: false,\n    user: {},\n    status: 'loading'\n  }\n\n  setUser = (user) => {\n    this.setState({\n      isLogged: true,\n      user,\n    })\n  }\n\n  logoutUser = () => {\n    return authService.logout()\n      .then(() => {\n        this.setState({ \n          isLogged: false,\n          user: {},\n        });\n      })\n      .catch( error => console.log(error))\n  }\n\n  loginUser = (body) => {\n    return authService.login(body)\n      .then((user) => {\n        this.setUser(user);\n      })\n      .catch(error => error)\n  }\n\n  signupUser = (body) => {\n    return authService.signup(body)\n      .then((user) => {\n        this.setUser(user);\n      })\n      .catch(error => console.log(error))\n  }\n\n  componentDidMount() {\n    authService.me()\n      .then((user) => {\n        this.setState({\n          isLogged: true,\n          user,\n          status: 'loaded'\n        })\n      })\n      .catch((error) => {\n        this.setState({ \n          isLogged: false,\n          user: {},\n          status: 'loaded'\n        });\n      })\n  }\n\n  render() {\n    const { isLogged, user, status } = this.state;\n    const { children } = this.props;\n    switch (status) {\n      case 'loading':\n        return <div>Loading</div>\n      default:\n        return (\n          <Provider value={\n            { isLogged,\n              user,\n              logout: this.logoutUser, \n              login: this.loginUser,\n              signup: this.signupUser,\n            }}>\n            {children}\n          </Provider>    \n        );\n    }\n  }\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nconst PrivateRoute = ({ component: Component, isLogged, ...rest }) => {\n  // console.log({ component: Component, user, ...rest }) \n  return (\n    <Route \n      {...rest}\n      render={props => {\n        if (isLogged) {\n          return <Component {...props} />\n        } else {\n          return <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n        }\n      }}\n    />\n  )\n}\n\n\n\nexport default withAuth(PrivateRoute);","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nconst AnonRoute = ({ component: Component, isLogged, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (!isLogged) {\n          return <Component {...props} />\n        } else {\n          return <Redirect to={{ pathname: '/location/add', state: { from: props.location } }} />\n        }\n      }\n      }\n    />\n  )\n}\nexport default withAuth(AnonRoute);","import React from 'react'\n\nfunction Logo() {\n  return (\n    <div className=\"logo\">\n      <img src=\"/img/logo.svg\" alt=\"FilmTrails\" />\n      <h1>FILM TRAILS</h1>\n    </div>\n  )\n}\n\nexport default Logo;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nimport Logo from './Logo';\n\nclass Navbar extends Component {\n  render() {\n    const { isLogged, user, logout } = this.props;\n    const { username } = user;\n    if (isLogged) {\n      return (\n        <div className=\"navbar\">\n          <Logo />\n          <div className=\"logout\">\n            <p>\n              <span>{username}</span>\n              <img src='/img/logout.png' alt='logout' onClick={logout} />\n            </p>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"navbar\">\n          <Logo />\n          <div className=\"login\">\n            <Link className=\"link-nav\" to='/login'><img src=\"/img/user.png\" alt='login'/></Link>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default withAuth(Navbar);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nclass Navbar extends Component {\n  render() {\n    return (\n      <div className=\"footer\">\n        <div>\n          <Link className=\"link-nav\" to='/'><img src=\"/img/map-icon.svg\" alt='Map Search'/></Link>\n        </div>\n        <div>\n          <Link className=\"link-nav\" to='/search'><img src=\"/img/search-list.svg\" alt='Search List'/></Link>\n        </div>\n        <div>\n          <Link className=\"link-nav\" to='/location/add'><img src=\"/img/map-add.svg\" alt='Map Add'/></Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Navbar;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nclass Signup extends Component {\n\n  state = {\n    username: \"\",\n    password: \"\",\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n\n    this.props.signup({ username, password })\n      .then(() => {\n        this.setState({\n            username: \"\",\n            password: \"\",\n        });\n      })\n      .catch(error => console.log(error) )\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  removePlaceholder = (e) => e.target.placeholder = \"\";\n  addPlaceholderUsername = (e) => e.target.placeholder = \"Username\";\n  addPlaceholderPassword = (e) => e.target.placeholder = \"Password\";\n\n  render() {\n    const { username, password } = this.state;\n    return (\n        <div className='signup-page'>\n          <div className=\"background\"></div>\n          <div className='form-box'>\n            <form onSubmit={this.handleFormSubmit}>\n              <input\n                type=\"text\"\n                name=\"username\"\n                placeholder=\"Username\"\n                onFocus={this.removePlaceholder} \n                onBlur={this.addPlaceholderUsername}\n                value={username}\n                onChange={this.handleChange}\n              />\n              <input\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                onFocus={this.removePlaceholder} \n                onBlur={this.addPlaceholderPassword}\n                value={password}\n                onChange={this.handleChange}\n              />\n              <input id='form-button' type=\"submit\" value=\"Signup\" />\n              <Link className='signup-link' to='/login'>Already have an account? Login.</Link>\n            </form>\n          </div>\n        </div>\n    )\n  }\n}\n\nexport default withAuth(Signup);","import React, { Component } from 'react';\nimport { withAuth } from '../providers/AuthProvider';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    notFilledFields: false,\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state\n\n    this.props.login({ username, password })\n      .then((data) => {\n        // if(data.response.data.status === 422) {\n        //   this.setState({\n        //     notFilledFields: true\n        //   })\n        // }\n      });\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  removePlaceholder = (e) => e.target.placeholder = \"\";\n  addPlaceholderUsername = (e) => e.target.placeholder = \"Username\";\n  addPlaceholderPassword = (e) => e.target.placeholder = \"Password\";\n\n  render() {\n    const { username, password, notFilledFields } = this.state;\n    return (\n        <div className='login-page'>\n          <div className=\"background\"></div>\n          <div className='form-box'>\n            <form onSubmit={this.handleFormSubmit}>\n              <input\n                type=\"text\"\n                name=\"username\"\n                placeholder=\"Username\"\n                onFocus={this.removePlaceholder} \n                onBlur={this.addPlaceholderUsername}\n                value={username}\n                onChange={this.handleChange}\n              />\n              <input\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                onFocus={this.removePlaceholder} \n                onBlur={this.addPlaceholderPassword}\n                value={password}\n                onChange={this.handleChange}\n              />\n              <input id='form-button' type=\"submit\" value=\"Login\" />\n              {notFilledFields ? <p>Missing some fields</p>: null}\n              <Link className='signup-link' to='/signup'>Create your account to add film locations</Link>\n            </form>\n          </div>\n        </div>\n    )\n  }\n}\n\nexport default withAuth(Login);","import axios from 'axios';\n\nclass LocationService {\n\n  constructor() {\n\n    this.location = axios.create({\n      baseURL: process.env.REACT_APP_BACKEND_URL,\n      withCredentials: true\n    })\n\n  }\n\n  view(id) {\n    return this.location.get('/location/' + id)\n      .then(({ data }) => data)\n  }\n\n  add(location) {\n    return this.location.post('/location/add', location)\n      .then(({ data }) => data)\n  }\n\n  update(id, location) {\n    return this.location.post('/location/update/' + id, location)\n      .then(({ data }) => data)\n  }\n\n  delete(id) {\n    return this.location.delete('/location/delete/' + id)\n      .then(({ data }) => data)\n  }\n\n  imageUpload(file) {\n    return this.location.post('/location/add/picture', file)\n      .then(({ data }) => data)\n  }\n\n  search(searchParams) {\n    console.log(`launching search------>`);\n    console.log(searchParams);\n    return this.location.get('/search/?lon=' + searchParams.lon + '&lat=' + searchParams.lat + '&dist=' + searchParams.dist)\n    .then(({ data }) => data)\n  }\n}\n\nconst locationService = new LocationService();\n\nexport default locationService;","import React, { Component } from 'react'\nimport { withAuth } from '../providers/AuthProvider';\nimport ReactMapGL, { Marker } from 'react-map-gl';\n\nimport locationService from '../lib/locationService';\n\nclass AddLocation extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      title: '',\n      lat: '',\n      lon: '',\n      placeName: '',\n      scenePictureUrl: '',\n      disable: true,\n      viewport: {\n        latitude: 41.5,\n        longitude: 2.3,\n        zoom: 10,\n        bearing: 0,\n        pitch: 0,\n        width: '100vp',\n        height: 200,\n      },\n      currentPosition: {\n        latitude: null,\n        longitude: null\n      },\n      savePosition: null\n    }\n  }\n\n  changeView = (viewport) => {\n    this.setState({ viewport });\n  }\n\n  locateUser = () => {\n    navigator.geolocation.getCurrentPosition(position => {\n\n      const currentPosition = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      }\n      const newViewport = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        zoom: this.state.viewport.zoom,\n        bearing: this.state.viewport.bearing,\n        pitch: this.state.viewport.pitch,\n        width: this.state.viewport.width,\n        height: this.state.viewport.height\n      }\n      this.setState({ currentPosition, viewport: newViewport });\n    });\n  }\n\n  handleClick = (ev) => {\n    \n    const savePosition = {\n      lon: ev.lngLat[0],\n      lat: ev.lngLat[1]\n    }\n    this.setState({savePosition, lat:savePosition.lat, lon:savePosition.lon});\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value});\n  }\n\n  fileOnchange = (event) => {\n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    locationService.imageUpload(uploadData)\n      .then((scenePictureUrl) => {\n        this.setState({scenePictureUrl})\n      })\n      .catch((error) => console.log(error))\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n\n    const locationObject = {\n      title: this.state.title,\n      placeName: this.state.placeName,\n      scenePictureUrl: this.state.scenePictureUrl,\n      coords: {\n        coordinates: [this.state.lon, this.state.lat],\n        type: 'Point'\n      }\n    };\n\n    locationService.add(locationObject)\n      .then((data) => {\n        this.props.history.push('/location/' + data._id);\n      });\n  }\n\n  controlButton = () => {\n    if (\n      this.state.title\n      && this.state.scenePictureUrl\n      && this.state.lat\n      && this.state.lon\n    ){\n      return false\n    }\n    else{\n      return true;\n    }\n  }\n\n  componentDidUpdate() {\n    if(!this.controlButton() && this.state.disable){\n      this.setState({disable: false});\n    }\n    else if(this.controlButton() && !this.state.disable){\n      this.setState({disable: true});\n    }\n  }\n\n  render() {\n    const { viewport } = this.state;\n    \n    return (\n      <div className='add-location-page'>\n        <h2>Add a new movie location</h2>\n        <div className='add-location'>\n          <h3>Select location:</h3>\n          <button className='get-location-button' onClick={this.locateUser}>Current location</button>\n        </div>\n        <div className=\"add-map\">\n          <ReactMapGL\n            {...viewport}\n            mapboxApiAccessToken={process.env.REACT_APP_MAP_TOKEN}\n            mapStyle='mapbox://styles/gusbe/cjw3cw74r0vw01cpiazy0w3f4'\n            onViewportChange={this.changeView}\n            onClick={this.handleClick}\n          >\n\n            {this.state.currentPosition.latitude ? (\n              <Marker\n                key='currentLocation'\n                latitude={this.state.currentPosition.latitude}\n                longitude={this.state.currentPosition.longitude}\n                offsetLeft={-10}\n                offsetTop={-10}\n              >\n                <div>\n                  <img src='/img/blue.svg' alt='savePosition' style={{ width: '20px' }} />\n                </div>\n              </Marker>\n            ) : null}\n\n            {this.state.savePosition ? (\n              <Marker\n                key='saveLocation'\n                latitude={this.state.savePosition.lat}\n                longitude={this.state.savePosition.lon}\n                offsetLeft={-8}\n                offsetTop={-27}\n              >\n                <div>\n                  <img src='/img/logo-red.svg' alt='savePosition' style={{ width: '16px' }} />\n                </div>\n              </Marker>\n            ) : null}\n\n\n          </ReactMapGL>\n        </div>\n        <div className=\"add-form\">\n          <form onSubmit={this.handleFormSubmit}>\n            <label className='lat-lon-inputs' name=\"lon\">Lon:</label>\n            <input className='lat-lon-inputs' type=\"text\" name=\"lon\" value={this.state.lon} onChange={this.handleChange} />\n            <label className='lat-lon-inputs' name=\"lat\">Lat:</label>\n            <input className='lat-lon-inputs' type=\"text\" name=\"lat\" value={this.state.lat} onChange={this.handleChange} />\n            <h3>Place name:</h3>\n            <input type=\"text\" name=\"placeName\" value={this.state.placeName} onChange={this.handleChange} />\n            <h3>Movie title:</h3>\n            <input type=\"text\" name=\"title\" value={this.state.title} onChange={this.handleChange} />\n            <h3>Upload a scene picture:</h3>\n            <input type=\"file\" onChange={this.fileOnchange} name=\"image\" />\n            {this.state.disable ? <input id='add-button-disabled' type=\"submit\" value='Complete all the fields' disabled></input> : <input id='add-button' type=\"submit\"  value='Send new location'></input>}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(AddLocation);","import React, { Component } from 'react'\nimport { withAuth } from '../providers/AuthProvider';\nimport ReactMapGL, { Marker } from 'react-map-gl';\n\nimport locationService from '../lib/locationService';\n\nclass AddLocation extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      ownerState: false,\n      id: '',\n      title: '',\n      lat: '',\n      lon: '',\n      placeName: '',\n      scenePictureUrl: '',\n      disable: true,\n      viewport: {\n        latitude: 41.5,\n        longitude: 2.3,\n        zoom: 10,\n        bearing: 0,\n        pitch: 0,\n        width: '100vp',\n        height: 200,\n      },\n      currentPosition: {\n        latitude: null,\n        longitude: null\n      },\n      uploadPicture: false\n    }\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n    locationService.view(id)\n    .then((location) => {\n      \n      const { _id, scenePictureUrl, title, coords, user, placeName } = location;\n\n      let ownerState = false;\n      if(this.props.user._id === user._id){\n        ownerState = true;  \n      }\n\n      let viewport = {\n        latitude: coords.coordinates[1],\n        longitude: coords.coordinates[0],\n        zoom: 12,\n        bearing: 0,\n        pitch: 0,\n        width: '100vp',\n        height: 150\n      }\n\n      this.setState({\n        id: _id,\n        title,\n        lat: coords.coordinates[1],\n        lon: coords.coordinates[0],\n        placeName,\n        scenePictureUrl,\n        author: user.username,\n        owner: ownerState,\n        viewport\n      })\n    });\n  }\n\n  changeView = (viewport) => {\n    this.setState({ viewport });\n  }\n\n  locateUser = () => {\n    navigator.geolocation.getCurrentPosition(position => {\n\n      const currentPosition = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      }\n      const newViewport = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        zoom: this.state.viewport.zoom,\n        bearing: this.state.viewport.bearing,\n        pitch: this.state.viewport.pitch,\n        width: this.state.viewport.width,\n        height: this.state.viewport.height\n      }\n      this.setState({ currentPosition, viewport: newViewport });\n    });\n  }\n\n  handleClick = (ev) => {\n    \n    const savePosition = {\n      lon: ev.lngLat[0],\n      lat: ev.lngLat[1]\n    }\n    this.setState({lat:savePosition.lat, lon:savePosition.lon});\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value});\n  }\n\n  fileOnchange = (event) => {\n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    locationService.imageUpload(uploadData)\n      .then((scenePictureUrl) => {\n        this.setState({scenePictureUrl})\n      })\n      .catch((error) => console.log(error))\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n\n    const locationObject = {\n      title: this.state.title,\n      placeName: this.state.placeName,\n      scenePictureUrl: this.state.scenePictureUrl,\n      coords: {\n        coordinates: [this.state.lon, this.state.lat],\n        type: 'Point'\n      }\n    };\n\n    locationService.update(this.state.id, locationObject)\n      .then((data) => {\n        this.props.history.push('/location/' + data._id);\n      });\n  }\n\n  controlButton = () => {\n    if (\n      this.state.title\n      && this.state.scenePictureUrl\n      && this.state.lat\n      && this.state.lon\n    ){\n      return false\n    }\n    else{\n      return true;\n    }\n  }\n\n  componentDidUpdate() {\n    if(!this.controlButton() && this.state.disable){\n      this.setState({disable: false});\n    }\n    else if(this.controlButton() && !this.state.disable){\n      this.setState({disable: true});\n    }\n  }\n\n  showUploadPicture = () => {\n    this.setState({uploadPicture: true});\n  }\n\n  render() {\n    const { viewport } = this.state;\n    \n    return (\n      <div className='add-location-page'>\n        <h2>Add a new movie location</h2>\n        <div className='add-location'>\n          <h3>Select location:</h3>\n          <button className='get-location-button' onClick={this.locateUser}>Current location</button>\n        </div>\n        <div className=\"add-map\">\n          <ReactMapGL\n            {...viewport}\n            mapboxApiAccessToken={process.env.REACT_APP_MAP_TOKEN}\n            mapStyle='mapbox://styles/gusbe/cjw3cw74r0vw01cpiazy0w3f4'\n            onViewportChange={this.changeView}\n            onClick={this.handleClick}\n          >\n\n            {this.state.currentPosition.latitude ? (\n              <Marker\n                key='currentLocation'\n                latitude={this.state.currentPosition.latitude}\n                longitude={this.state.currentPosition.longitude}\n                offsetLeft={-10}\n                offsetTop={-10}\n              >\n                <div>\n                  <img src='/img/blue.svg' alt='savePosition' style={{ width: '20px' }} />\n                </div>\n              </Marker>\n            ) : null}\n\n            {this.state.lat ? (\n              <Marker\n                key='saveLocation'\n                latitude={this.state.lat}\n                longitude={this.state.lon}\n                offsetLeft={-8}\n                offsetTop={-27}\n              >\n                <div>\n                  <img src='/img/logo-orange.svg' alt='savePosition' style={{ width: '16px' }} />\n                </div>\n              </Marker>\n            ) : null}\n\n\n          </ReactMapGL>\n        </div>\n        <div className=\"add-form\">\n          <form onSubmit={this.handleFormSubmit}>\n            <label className='lat-lon-inputs' name=\"lon\">Lon:</label>\n            <input className='lat-lon-inputs' type=\"text\" name=\"lon\" value={this.state.lon} onChange={this.handleChange} />\n            <label className='lat-lon-inputs' name=\"lat\">Lat:</label>\n            <input className='lat-lon-inputs' type=\"text\" name=\"lat\" value={this.state.lat} onChange={this.handleChange} />\n            <h3>Place name:</h3>\n            <input type=\"text\" name=\"placeName\" value={this.state.placeName} onChange={this.handleChange} />\n            <h3>Movie title:</h3>\n            <input type=\"text\" name=\"title\" value={this.state.title} onChange={this.handleChange} />\n            <h3>Scene picture:</h3>\n            <img className='picture-update' src={this.state.scenePictureUrl} alt=\"scene\"/>\n            \n            {this.state.uploadPicture ? (\n              <input type=\"file\" onChange={this.fileOnchange} name=\"image\" />\n            ) : (\n                <div className=\"edit-foto-content\">\n                  <p className=\"edit-foto\" onClick={this.showUploadPicture}><img src=\"/img/pen.svg\" alt=\"update\" className=\"update-picture-icon\" />Edit picture</p>\n                </div>\n              )}\n\n\n\n            {this.state.disable ? <input id='add-button-disabled' type=\"submit\" value='Complete all the fields' disabled></input> : <input id='add-button' type=\"submit\"  value='Change location info'></input>}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(AddLocation);","import React, { Component } from 'react'\nimport { Link, Redirect } from 'react-router-dom';\nimport locationService from '../lib/locationService';\nimport { withAuth } from '../providers/AuthProvider';\nimport ReactMapGL, { Marker } from 'react-map-gl';\n\nclass ViewLocation extends Component {\n\n  constructor(props) {\n\n    super(props);\n\n    this.state = {\n      id: '',\n      title: '',\n      lat: '',\n      lon: '',\n      placeName: '',\n      scenePictureUrl: '',\n      author: '',\n      info: '',\n      owner: false,\n      viewport: {\n        latitude: null,\n        longitude: null,\n        zoom: null,\n        bearing: null,\n        pitch: null,\n        width: null,\n        height: null\n      },\n      currentPosition: {\n        latitude: null,\n        longitude: null\n      },\n      deleteLink: false,\n      redirectSearch: false\n    }\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n    locationService.view(id)\n      .then((location) => {\n\n        const { _id, scenePictureUrl, title, coords, user, placeName, info } = location;\n\n        let ownerState = false;\n        if (this.props.user._id === user._id) {\n          ownerState = true;\n        }\n\n        let viewport = {\n          latitude: coords.coordinates[1],\n          longitude: coords.coordinates[0],\n          zoom: 12,\n          bearing: 0,\n          pitch: 0,\n          width: '100vp',\n          height: 150\n        }\n\n        this.setState({\n          id: _id,\n          title,\n          lat: coords.coordinates[1],\n          lon: coords.coordinates[0],\n          placeName,\n          scenePictureUrl,\n          author: user.username,\n          info,\n          owner: ownerState,\n          viewport\n        })\n      });\n  }\n\n  showDelete = () => {\n    if (this.state.deleteLink) {\n      this.setState({ deleteLink: false })\n    }\n    else {\n      this.setState({ deleteLink: true })\n    }\n  }\n\n  deleteElement = () => {\n    const { id } = this.props.match.params;\n    locationService.delete(id)\n      .then((location) => {\n        this.setState({ redirectSearch: true });\n      });\n  }\n\n\n  render() {\n    const { viewport, lat, lon } = this.state;\n    return (\n      <div className='view-page'>\n        {this.state.redirectSearch ? (\n          <Redirect to='/'></Redirect>\n        ) : (\n            <>\n\n\n\n              <div className=\"view-image\">\n                <img src={this.state.scenePictureUrl} alt={this.state.title} />\n                <p>Uploaded by: {this.state.author} </p>\n              </div>\n\n\n\n\n              <div className=\"view-title\">\n                <h1>{this.state.title}</h1>\n                {this.state.placeName ? (\n                  <h2>({this.state.placeName})</h2>\n                ) : null}\n\n              </div>\n\n\n\n\n\n\n\n\n\n\n\n\n              <div className=\"view-map\">\n                {lat ? (\n                  <ReactMapGL\n                    {...viewport}\n                    mapboxApiAccessToken={process.env.REACT_APP_MAP_TOKEN}\n                    mapStyle='mapbox://styles/gusbe/cjw3cw74r0vw01cpiazy0w3f4'\n                    className='view-map-wrap'\n                  >\n\n                    <Marker\n                      key='sss'\n                      latitude={lat}\n                      longitude={lon}\n                      offsetLeft={-8}\n                      offsetTop={-27}\n                    >\n                      <div>\n                        <img src='/img/logo-red.svg' alt='currentPosition' style={{ width: '20px', fill: 'red' }} />\n                      </div>\n                    </Marker>\n\n                    {this.state.currentPosition.latitude ? (\n                      <Marker\n                        key='currentLocation'\n                        latitude={this.state.currentPosition.latitude}\n                        longitude={this.state.currentPosition.longitude}\n                        offsetLeft={-10}\n                        offsetTop={-10}\n                      >\n                        <div>\n                          <img src='/img/pin.png' alt='currentPosition' style={{ width: '20px' }} />\n                        </div>\n                      </Marker>\n                    ) : null}\n                  </ReactMapGL>\n                ) : null}\n              </div>\n\n\n\n\n\n              {this.state.info && this.state.info !== 'N/A' ? (\n                <div className=\"movie-information\">\n                  <div className=\"info-plot\">\n                    {this.state.info.plot && this.state.info.plot !== 'N/A'? (\n                      <p>\n                        {this.state.info.plot}\n                      </p>\n                    ) : null}\n                  </div>\n\n                  <div className=\"info-container\">\n\n                    <div className=\"info-other\">\n                      {this.state.info.actors && this.state.info.actors !== 'N/A' ?  (\n                        <p>\n                          <strong>Cast:</strong><br />{this.state.info.actors}\n                        </p>\n                      ) : null}\n\n                      {this.state.info.director && this.state.info.director !== 'N/A' ?  (\n                        <p>\n                          <strong>Director:</strong><br />{this.state.info.director}\n                        </p>\n                      ) : null}\n                      {this.state.info.year && this.state.info.year !== 'N/A' ?  (\n                        <p>\n                          <strong>Year:</strong><br />{this.state.info.year}\n                        </p>\n                      ) : null}\n\n                      {this.state.info.awards && this.state.info.awards !== 'N/A' ?  (\n                        <p>\n                          <strong>Awards:</strong><br />{this.state.info.awards}\n                        </p>\n                      ) : null}\n\n                      {this.state.info.website && this.state.info.website !== 'N/A' ?  (\n                        <p>\n                          <a href={this.state.info.website} rel=\"noopener noreferrer\" target=\"_blank\">Official website</a>\n                        </p>\n                      ) : null}\n                    </div>\n                    {this.state.info.poster && this.state.info.poster !== 'N/A'? (\n                      <div className=\"info-image\">\n                        <img src={this.state.info.poster} alt=\"poster\" />\n                      </div>\n                    ) : null}\n\n\n                  </div>\n\n\n                </div>\n\n              ) : null}\n\n\n\n\n\n\n\n\n\n\n              {this.state.owner ? (\n                <div className=\"view-links\">\n                  {this.state.deleteLink ? (\n                    <p className='view-links-component'>\n                      Do you really want to delete this location?\n                <a href=\"#;\" className='view-links-component-link' onClick={this.deleteElement}>\n                        Yes\n                </a>\n                      <a href=\"#;\" className='view-links-component-link' onClick={this.showDelete}>\n                        No\n                </a>\n                    </p>\n                  ) : (\n                      <p className='view-links-component'>\n                        <Link className='view-links-component-link' to={'/location/' + this.state.id + '/update'}>\n                          <img src=\"/img/pen.svg\" alt=\"update\" className=\"update-icon\" />\n                          Update\n                </Link>\n                        <img src=\"/img/delete.svg\" alt=\"delete\" className=\"delete-icon\" />\n                        <a href=\"#;\" className='view-links-component-link' onClick={this.showDelete}>Delete</a>\n                      </p>\n                    )}\n                </div>\n              ) : null}\n\n\n\n\n            </>\n          )}\n      </div>\n    );\n  }\n}\n\n\nexport default withAuth(ViewLocation);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass OneResult extends Component {\n\n  constructor(props) {\n\n    super(props);\n\n    this.state = {\n      distance: props.info.distance,\n      scenePictureUrl: props.info.scenePictureUrl,\n      title: props.info.title,\n      _id: props.info._id,\n      lat: props.info.coords.coordinates[1],\n      lon: props.info.coords.coordinates[0],\n      placeName: props.info.placeName\n    }\n\n  }\n\n  showMarker = () => {\n\n    const position = {\n      lon: this.state.lon,\n      lat: this.state.lat,\n    }\n    this.props.changeDetailMarker(position);\n  }\n\n  unshowMarker = () => {\n    this.props.changeDetailMarker({ lat: null, lon: null });\n  }\n\n\n  render() {\n    let distance;\n    if (this.state.distance / 1000 < 1) distance = `${Math.trunc(this.state.distance)} meters`;\n    else if (this.state.distance / 1000 < 5) distance = `${(this.state.distance / 1000).toFixed(2)} Kms`;\n    else distance = `${Math.trunc(this.state.distance / 1000) - 1} Kms`;\n    return (\n      <Link to={`/location/${this.state._id}`} className='link-location'>\n        <div className=\"one-result\" onMouseOver={this.showMarker} onMouseOut={this.unshowMarker}>\n          <div className=\"location-info-one-result\" style={{ backgroundImage: 'url(' + this.state.scenePictureUrl + ')' }} />\n          <div className=\"title-distance\">\n            <p id=\"title-one-result\">{this.state.title}</p>\n            <div className=\"place-distance\">\n              <p id=\"place-one-result\">{this.state.placeName}</p>\n              <p id=\"distance-one-result\">{distance}</p>\n            </div>\n          </div>\n        </div>\n      </Link>\n    )\n  }\n}\n\nexport default OneResult;\n","import React, { Component } from 'react'\nimport OneResult from './OneResult';\n\nclass ResultList extends Component {\n\n  \n\n  render() {\n    const { results } = this.props;\n    const resultList = results.map( (result) => {\n      return (\n       <div key={result._id}>\n         <OneResult info={result} changeDetailMarker={this.props.changeDetailMarker}/>\n       </div>\n      );\n    });\n\n\n    return (\n      <div>\n        {resultList}\n      </div>\n    )\n  }\n}\n\nexport default ResultList;","import React, { Component } from 'react'\nimport ReactMapGL, { Marker } from 'react-map-gl';\n\nimport locationService from '../lib/locationService';\nimport ResultList from './../components/ResultList';\n\n\nclass Search extends Component {\n\n  constructor(props) {\n\n    super(props);\n\n    this.state = {\n      results: [],\n      searchParams: {\n        lat: -42.967645,\n        lon: 171.885557,\n        dist: 1000\n      },\n      viewport: {\n        latitude: -42.967645,\n        longitude: 171.885557,\n        zoom: 4,\n        bearing: 0,\n        pitch: 0,\n        width: '100vp',\n        height: 300,\n      },\n      currentPosition: {\n        latitude: null,\n        longitude: null\n      },\n      savePosition: {\n        lon: 171.885557,\n        lat: -42.967645\n      },\n      detailPosition: {\n        lon: null,\n        lat: null\n      },\n      lastSearch: null\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.state.lastSearch + 1000 < Date.now()) {\n      this.setState({ lastSearch: Date.now() });\n      this.launchSearch();\n    }\n  }\n\n\n  launchSearch = () => {\n    let latSearch;\n    let lonSearch;\n    if (this.state.savePosition !== null) {\n      latSearch = this.state.savePosition.lat;\n      lonSearch = this.state.savePosition.lon;\n    }\n    else {\n      latSearch = this.state.viewport.latitude;\n      lonSearch = this.state.viewport.longitude;\n    }\n\n    let d = 0;\n    let z = this.state.viewport.zoom;\n    if (z < 2) d = 13000000 / 2;\n    else if (z < 3) d = 10000000 / 2;\n    else if (z < 4) d = 4000000 / 2;\n    else if (z < 5) d = 2700000 / 2;\n    else if (z < 6) d = 1500000 / 2;\n    else if (z < 7) d = 700000 / 2;\n    else if (z < 8) d = 350000 / 2;\n    else if (z < 9) d = 182000 / 2;\n    else if (z < 10) d = 85000 / 2;\n    else if (z < 11) d = 43000 / 2;\n    else if (z < 12) d = 25000 / 2;\n    else if (z < 13) d = 13000 / 2;\n    else if (z < 14) d = 5000 / 2;\n    else if (z < 15) d = 2500 / 2;\n    else if (z < 16) d = 1300 / 2;\n\n    const searchParams = {\n      lat: latSearch,\n      lon: lonSearch,\n      dist: d\n    }\n\n    locationService.search(searchParams)\n      .then((results) => {\n        this.setState({ searchParams, results });\n      })\n  }\n\n  changeView = (viewport) => {\n    this.setState({ viewport });\n  }\n\n  locateUser = () => {\n    navigator.geolocation.getCurrentPosition(position => {\n\n      const currentPosition = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      }\n      const savePosition = {\n        lon: position.coords.longitude,\n        lat: position.coords.latitude\n      }\n      const newViewport = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        zoom: this.state.viewport.zoom,\n        bearing: this.state.viewport.bearing,\n        pitch: this.state.viewport.pitch,\n        width: this.state.viewport.width,\n        height: this.state.viewport.height\n      }\n      this.setState({ currentPosition, savePosition, viewport: newViewport });\n    });\n  }\n\n  handleClick = (ev) => {\n    window.scrollTo(0, 0);\n    const savePosition = {\n      lon: ev.lngLat[0],\n      lat: ev.lngLat[1]\n    }\n    this.setState({ savePosition, lat: savePosition.lat, lon: savePosition.lon });\n  };\n\n  changeDetailMarker = (pos) => {\n    this.setState({ detailPosition: pos });\n  }\n\n\n\n  render() {\n    const { viewport } = this.state;\n\n    return (\n      <div className='search-list-page'>\n\n        \n\n        <div className=\"list-map\">\n        <button className='list-current-location-button' onClick={this.locateUser}>Current location</button>\n          <ReactMapGL\n            {...viewport}\n            mapboxApiAccessToken={process.env.REACT_APP_MAP_TOKEN}\n            mapStyle='mapbox://styles/gusbe/cjw3cw74r0vw01cpiazy0w3f4'\n            onViewportChange={this.changeView}\n            onClick={this.handleClick}\n          >\n\n            {this.state.currentPosition.latitude ? (\n              <Marker\n                key='currentLocation'\n                latitude={this.state.currentPosition.latitude}\n                longitude={this.state.currentPosition.longitude}\n                offsetLeft={-10}\n                offsetTop={-10}\n              >\n                <div>\n                  <img src='/img/blue.svg' alt='savePosition' style={{ width: '20px' }} />\n                </div>\n              </Marker>\n            ) : null}\n\n            \n\n            {this.state.savePosition ? (\n              <Marker\n                key='saveLocation'\n                latitude={this.state.savePosition.lat}\n                longitude={this.state.savePosition.lon}\n                offsetLeft={-13}\n                offsetTop={-27}\n              >\n                <div>\n                  <img src='/img/pin-search.svg' alt='savePosition' style={{ width: '26px' }} />\n                </div>\n              </Marker>\n            ) : null}\n\n\n\n\n\n            {this.state.results.map((Location) => (\n              <Marker\n                key={Location._id}\n                latitude={Location.coords.coordinates[1]}\n                longitude={Location.coords.coordinates[0]}\n                offsetLeft={-10}\n                offsetTop={-10}\n              >\n                <div>\n                  <img src='/img/logo-red.svg' alt='pin' style={{ width: '16px' }} />\n                </div>\n\n              </Marker>\n            ))}\n\n            {this.state.detailPosition.lon ? (\n              <Marker\n                key='detailPosition'\n                latitude={this.state.detailPosition.lat}\n                longitude={this.state.detailPosition.lon}\n                offsetLeft={-10}\n                offsetTop={-10}\n              >\n                <div>\n                  <img src='/img/logo-orange.svg' alt='savePosition' style={{ width: '16px' }} />\n                </div>\n              </Marker>\n            ) : null}\n\n\n\n\n          </ReactMapGL>\n        </div>\n        <div className=\"result-list\">\n          <h2>{this.state.results.length} film locations</h2>\n          <ResultList results={this.state.results} changeDetailMarker={this.changeDetailMarker} />\n        </div>\n      </div>\n    );\n  }\n\n\n}\n\n\nexport default Search;","import React, { Component } from 'react'\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport { Redirect } from 'react-router-dom';\n\nimport locationService from '../lib/locationService';\n\nclass SearchMap extends Component {\n\n  constructor(props) {\n\n    super(props);\n\n    this.state = {\n      viewport: {\n        latitude: 41.39,\n        longitude: 2.17,\n        zoom: 12,\n        bearing: 0,\n        pitch: 0,\n        width: '100vp',\n        height: '95vh',\n      },\n      currentPosition: {\n        latitude: null,\n        longitude: null\n      },\n      selectedLocation: null,\n      results: [],\n      lastSearch: null,\n      goToViewLocation: false\n    }\n  }\n\n  componentDidMount() {\n\n    const listener = e => {\n      if (e.key === 'Escape') {\n        this.setState({ selectedLocation: null });\n      }\n    };\n    window.addEventListener('keydown', listener);\n  };\n\n  componentDidUpdate() {\n    if (this.state.lastSearch + 1000 < Date.now()) {\n      this.setState({ lastSearch: Date.now() });\n      this.state.results = [];\n      this.launchSearch();\n    }\n  }\n\n  launchSearch = () => {\n\n    let d = 0;\n    let z = this.state.viewport.zoom;\n    if (z < 2) d = 13000000 / 2;\n    else if (z < 3) d = 10000000 / 2;\n    else if (z < 4) d = 4000000 / 2;\n    else if (z < 5) d = 2700000 / 2;\n    else if (z < 6) d = 1500000 / 2;\n    else if (z < 7) d = 700000 / 2;\n    else if (z < 8) d = 350000 / 2;\n    else if (z < 9) d = 182000 / 2;\n    else if (z < 10) d = 85000 / 2;\n    else if (z < 11) d = 43000 / 2;\n    else if (z < 12) d = 25000 / 2;\n    else if (z < 13) d = 13000 / 2;\n    else if (z < 14) d = 5000 / 2;\n    else if (z < 15) d = 2500 / 2;\n    else if (z < 16) d = 1300 / 2;\n\n    const searchParams = {\n      lat: this.state.viewport.latitude,\n      lon: this.state.viewport.longitude,\n      dist: d\n    }\n\n\n    locationService.search(searchParams)\n      .then((results) => {\n        this.setState({ searchParams, results });\n      })\n  }\n\n  changeView = (viewport) => {\n\n    this.setState({ viewport });\n\n  }\n\n  locateUser = () => {\n    navigator.geolocation.getCurrentPosition(position => {\n\n      const currentPosition = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      }\n      const newViewport = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        zoom: this.state.viewport.zoom,\n        bearing: this.state.viewport.bearing,\n        pitch: this.state.viewport.pitch,\n        width: this.state.viewport.width,\n        height: this.state.viewport.height\n      }\n      this.setState({ currentPosition, viewport: newViewport });\n    });\n  }\n\n  closeLocation = (e) => {\n    e.stopPropagation();\n    this.setState({ selectedLocation: false });\n  }\n\n  goToViewLocation = () => {\n    this.setState({ goToViewLocation: this.state.selectedLocation._id });\n  }\n\n\n\n  render() {\n    const { viewport, selectedLocation, goToViewLocation } = this.state;\n\n    if (goToViewLocation) {\n      return (<Redirect to={`/location/${goToViewLocation}`} />);\n    }\n    else {\n\n      return (\n        <div className=\"search-map-page\">\n          <button className=\"current-location-button\" onClick={this.locateUser}>Current location</button>\n\n          {selectedLocation ? (\n\n            <div className=\"location-info\" onClick={this.goToViewLocation} style={{ backgroundImage: 'url(' + selectedLocation.scenePictureUrl + ')' }}>\n              <div className=\"close-location-inf\" onClick={this.closeLocation}>\n                <img src=\"/img/close-window.png\" alt=\"close\" />\n              </div>\n              <p>{selectedLocation.placeName}</p>\n              <p className=\"title-card\">{selectedLocation.title}</p>\n            </div>\n\n          ) : null}\n\n          <div className=\"search-map\">\n            <ReactMapGL\n              {...viewport}\n              mapboxApiAccessToken={process.env.REACT_APP_MAP_TOKEN}\n              mapStyle='mapbox://styles/gusbe/cjw3cw74r0vw01cpiazy0w3f4'\n              onViewportChange={this.changeView}\n\n            >\n\n\n\n              {this.state.results.map((Location) => (\n                <Marker\n                  key={Location._id}\n                  latitude={Location.coords.coordinates[1]}\n                  longitude={Location.coords.coordinates[0]}\n                  \n                  offsetLeft={selectedLocation && selectedLocation._id === Location._id ? (-12) : (-8)}\n                  offsetTop={selectedLocation && selectedLocation._id === Location._id ? (-40) : (-27)}\n\n                >\n                  <div\n                    onClick={e => {\n                      e.preventDefault();\n                      this.setState({ selectedLocation: Location })\n                    }}\n                  >\n                    {selectedLocation && selectedLocation._id === Location._id ? (\n                      <img src='/img/logo-orange.svg' alt='pin' style={{ width: '24px' }} />\n                    ) : (\n                        <img src='/img/logo-red.svg' alt='pin' style={{ width: '16px' }} />\n                      )}\n\n\n\n\n                  </div>\n\n                </Marker>\n              ))}\n\n              {this.state.currentPosition.latitude ? (\n                <Marker\n                  key='currentLocation'\n                  latitude={this.state.currentPosition.latitude}\n                  longitude={this.state.currentPosition.longitude}\n                  offsetLeft={-10}\n                  offsetTop={-10}\n                >\n                  <div>\n                    <img src='/img/blue.svg' alt='currentPosition' style={{ width: '20px' }} />\n                  </div>\n                </Marker>\n              ) : null}\n\n\n            </ReactMapGL>\n          </div>\n        </div>\n\n      );\n    }\n  }\n}\n\nexport default SearchMap;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass NotFound extends Component {\n \n  render() {\n    return (\n        <div className='not-found'>\n          <img src='/img/not-found.gif' alt='Not found'/>\n          <p>This page doesn't exist! Go to the <Link to='/'>Map search</Link></p>\n        </div>\n    )\n  }\n}\n\nexport default NotFound;","import React, { Component } from 'react';\nimport {Switch, Route} from 'react-router-dom';\n\n\nimport PrivateRoute from './components/PrivateRoute';\nimport AnonRoute from './components/AnonRoute';\nimport AuthProvider from './providers/AuthProvider';\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport AddLocation from './pages/AddLocation';\nimport UpdateLocation from './pages/UpdateLocation';\nimport ViewLocation from './pages/ViewLocation';\nimport Search from './pages/Search';\nimport SearchMap from './pages/SearchMap';\nimport NotFound from './pages/NotFound';\nrequire('dotenv').config();\n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <AuthProvider>\n        <div className=\"container\">\n          <Navbar />\n          <Switch>\n            <Route path=\"/\" component={SearchMap} exact />\n            <AnonRoute path=\"/signup\" component={Signup} />\n            <AnonRoute path=\"/login\" component={Login} />\n            <PrivateRoute path=\"/location/add\" component={AddLocation} exact/>\n            <Route path=\"/location/:id/update\" component={UpdateLocation}  />\n            <Route path=\"/location/:id\" component={ViewLocation}  />\n            <Route path=\"/search/:id\" component={Search}  />\n            <Route path=\"/search\" component={Search}  />\n            <Route component={NotFound} />\n          </Switch>\n          <Footer />\n        </div>\n      </AuthProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n, document.getElementById('root'));"],"sourceRoot":""}